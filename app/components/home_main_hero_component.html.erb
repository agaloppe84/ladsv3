<section class="max-w-7xl mx-auto px-4">

  <!-- Hero -->
  <div class="relative overflow-hidden rounded-3xl mt-12 bg-gradient-to-br from-slate-50 to-slate-100 border border-slate-200">
    <div class="grid md:grid-cols-2 gap-6 items-stretch">
      <div class="p-8 md:p-12 flex flex-col justify-center">

        <div class="flex items-center gap-4">
          <div><%= inline_svg_tag("logos/ads-without-text.svg", class: "h-14 w-14 shrink-0") %></div>
          <h1 class="text-5xl md:text-4xl font-extrabold leading-tight text-slate-900">
            Les Artisans du Store
          </h1>
        </div>

        <div class="mt-6 mb-3 text-slate-600 max-w-prose text-lg">
          Les artisans du store dans le Rhône, c'est plus de 35 ans d'expérience à votre service. Nous proposons toute une gamme de produits pour la fermeture et la protection solaire : stores extérieurs et intérieurs, pergostores, pergolas, moustiquaires, volets roulants et battants, portes de garage.
        </div>
        <div class="text-slate-600 max-w-prose text-lg">
          <strong>Qualifiée RGE</strong> (Reconnus Garants de l’environnement), Les artisans du store c’est avant tout une équipe de 5 personnes à votre service pour vous conseiller et vous accompagner dans tous vos projets d’aménagement.
        </div>


        <div class="mt-6 mb-6 flex flex-wrap gap-3">
          <%= link_to 'Devis gratuit', new_quote_path, class: "inline-flex items-center justify-center px-5 py-3 rounded-2xl border border-slate-300 text-slate-800 font-medium hover:bg-white" %>
          <%= link_to "Découvrir nos produits", categories_path, class: "inline-flex items-center justify-center px-5 py-3 rounded-2xl border border-slate-300 text-slate-800 font-medium hover:bg-white" %>
        </div>

        <div class="mt-6 grid grid-cols-3 gap-4 text-center hidden">
          <div class="rounded-2xl border border-slate-200 p-4">
            <div class="text-2xl font-bold">4.8★</div>
            <div class="text-xs text-slate-500">Note Google</div>
          </div>
          <div class="rounded-2xl border border-slate-200 p-4">
            <div class="text-2xl font-bold">15+ ans</div>
            <div class="text-xs text-slate-500">d’expertise</div>
          </div>
          <div class="rounded-2xl border border-slate-200 p-4">
            <div class="text-2xl font-bold">48 h</div>
            <div class="text-xs text-slate-500">Devis</div>
          </div>
        </div>

        <p class="inline-flex items-center gap-2 text-xs uppercase tracking-wider text-slate-500">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3 7h7l-6 4 2 7-6-4-6 4 2-7-6-4h7z"/></svg>
          Expert RGE & pose certifiée
        </p>

      </div>

      <!-- Colonne droite: toutes les slides en dur, le JS bascule l’opacité -->
      <div
        class="relative min-h-[320px] md:min-h-[520px]"
        data-controller="hero-rotator"
        data-hero-rotator-interval-value="10000"
        data-hero-rotator-pause-on-hover-value="true"
      >
        <!-- Slide 1 (visible) -->
        <figure
          data-hero-rotator-target="slide"
          class="absolute inset-0 h-full w-full transition-opacity duration-700 ease-in-out group"
          aria-hidden="false">
          <%= image_tag "Magasin 01",
                alt: "Pergola bioclimatique moderne",
                class: "absolute inset-0 h-full w-full object-cover",
                decoding: "async", loading: "eager" %>
          <figcaption class="absolute bottom-4 left-4 right-4 glass rounded-2xl p-4 shadow-soft bg-white opacity-75 hidden group-hover:block">
            <p class="text-sm"><span class="font-semibold">Magasin - 35 Rue des Martinets 69210 L'Arbresle</p>
          </figcaption>
        </figure>

        <!-- Slide 2 -->
        <figure
          data-hero-rotator-target="slide"
          class="absolute inset-0 h-full w-full opacity-0 pointer-events-none transition-opacity duration-700 ease-in-out group"
          aria-hidden="true">
          <%= image_tag "Magasin 02",
                alt: "Store banne motorisé",
                class: "absolute inset-0 h-full w-full object-cover",
                decoding: "async", loading: "lazy" %>
          <figcaption class="absolute bottom-4 left-4 right-4 glass rounded-2xl p-4 shadow-soft bg-white opacity-75 hidden group-hover:block">
            <p class="text-sm"><span class="font-semibold">Showroom - Stores intérieurs</p>
          </figcaption>
        </figure>

        <!-- Slide 3 -->
        <figure
          data-hero-rotator-target="slide"
          class="absolute inset-0 h-full w-full opacity-0 pointer-events-none transition-opacity duration-700 ease-in-out group"
          aria-hidden="true">
          <%= image_tag "Magasin 03",
                alt: "Menuiseries aluminium noires",
                class: "absolute inset-0 h-full w-full object-cover",
                decoding: "async", loading: "lazy" %>
          <figcaption class="absolute bottom-4 left-4 right-4 glass rounded-2xl p-4 shadow-soft bg-white opacity-75 hidden group-hover:block">
            <p class="text-sm"><span class="font-semibold">Showroom - Espace Luxaflex</p>
          </figcaption>
        </figure>

         <!-- Slide 4 -->
        <figure
          data-hero-rotator-target="slide"
          class="absolute inset-0 h-full w-full opacity-0 pointer-events-none transition-opacity duration-700 ease-in-out group"
          aria-hidden="true">
          <%= image_tag "Magasin 04",
                alt: "Menuiseries aluminium noires",
                class: "absolute inset-0 h-full w-full object-cover",
                decoding: "async", loading: "lazy" %>
          <figcaption class="absolute bottom-4 left-4 right-4 glass rounded-2xl p-4 shadow-soft bg-white opacity-75 hidden group-hover:block">
            <p class="text-sm"><span class="font-semibold">Showroom - Espace Luxaflex</p>
          </figcaption>
        </figure>

         <!-- Slide 5 -->
        <figure
          data-hero-rotator-target="slide"
          class="absolute inset-0 h-full w-full opacity-0 pointer-events-none transition-opacity duration-700 ease-in-out group"
          aria-hidden="true">
          <%= image_tag "Magasin 05",
                alt: "Menuiseries aluminium noires",
                class: "absolute inset-0 h-full w-full object-cover",
                decoding: "async", loading: "lazy" %>
          <figcaption class="absolute bottom-4 left-4 right-4 glass rounded-2xl p-4 shadow-soft bg-white opacity-75 hidden group-hover:block">
            <p class="text-sm"><span class="font-semibold">Showroom - Espace Luxaflex</p>
          </figcaption>
        </figure>

        <!-- (Ajoutez 4e/5e slide ici de la même manière) -->

        <!-- (Optionnel) flèches manuelles -->
        <!--
        <button class="absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-white/80 p-2 shadow-soft"
                data-action="hero-rotator#prev" aria-label="Précédent">‹</button>
        <button class="absolute right-3 top-1/2 -translate-y-1/2 rounded-full bg-white/80 p-2 shadow-soft"
                data-action="hero-rotator#next" aria-label="Suivant">›</button>
        -->
      </div>
    </div>
  </div>


  <!-- Promise bar -->
  <div class="mt-10 grid grid-cols-2 md:grid-cols-4 gap-4">
    <div class="rounded-2xl border border-slate-200 p-5">
      <p class="font-semibold">Devis sous 48&nbsp;h</p>
      <p class="text-sm text-slate-600">Chiffrage clair, sans surprise.</p>
    </div>
    <div class="rounded-2xl border border-slate-200 p-5">
      <p class="font-semibold">Pose maîtrisée</p>
      <p class="text-sm text-slate-600">Équipe interne expérimentée.</p>
    </div>
    <div class="rounded-2xl border border-slate-200 p-5">
      <p class="font-semibold">Garantie & SAV</p>
      <p class="text-sm text-slate-600">Accompagnement après pose.</p>
    </div>
    <div class="rounded-2xl border border-slate-200 p-5">
      <p class="font-semibold">Marques de référence</p>
      <p class="text-sm text-slate-600">Motorisations Somfy, toiles Dickson…</p>
    </div>
  </div>

  <!-- Categories -->
  <section class="mt-12">
    <h2 class="text-2xl md:text-3xl font-bold">Nos produits</h2>
    <div class="mt-6 grid sm:grid-cols-2 lg:grid-cols-4 gap-5">
      <!-- Card -->
      <% @categories.each do |category| %>
        <%= link_to category_path(category) do %>
          <div class="group rounded-2xl overflow-hidden border border-slate-200 hover:shadow-soft transition">
            <div class="aspect-[4/3] relative">
              <% if category.products.any? && category.products.first.images.attached? %>
                <%= cl_image_tag(category.products.first.images.first.key, crop: :scale, class: "absolute inset-0 w-full h-full object-cover group-hover:scale-[1.03] transition") %>
              <% else %>
                <%= image_tag('placeholder.jpg', class: "absolute inset-0 w-full h-full object-cover group-hover:scale-[1.03] transition") %>
              <% end %>
            </div>
            <div class="p-4">
              <p class="font-semibold"><%= category.name %></p>
              <p class="text-sm text-slate-600"><%= category.description %></p>
            </div>
          </div>
        <% end %>
      <% end %>

    </div>
  </section>

  <!-- Réalisations + avis -->
  <section class="mt-20 grid lg:grid-cols-2 gap-16 items-start">
    <div>
      <h3 class="text-xl md:text-2xl font-bold">Réalisations récentes</h3>
      <div class="mt-4 grid grid-cols-2 gap-4">

        <% @categories.all.first(4).each do |category| %>
          <div class="aspect-[4/3] relative rounded-2xl border border-slate-200 overflow-hidden group">
            <% if category.products.first.images.attached? %>
              <%= cl_image_tag(category.products.first.images.first.key, crop: :scale, class: "absolute inset-0 w-full h-full object-cover group-hover:scale-[1.03] transition") %>
            <% else %>
              <%= image_tag('placeholder.jpg', class: "absolute inset-0 w-full h-full object-cover group-hover:scale-[1.03] transition") %>
            <% end %>
          </div>
        <% end %>

      </div>
    </div>
    <div class="">
      <div class="flex items-center justify-between">
        <h3 class="text-xl md:text-2xl font-bold">Ils nous recommandent</h3>
        <%= inline_svg_tag("icons/five-stars-inline.svg", class: "h-6 w-28 text-yellow-800 fill-yellow-800 hover:fill-orange-400 hover:text-orange-400") %>
      </div>
      <div class="mt-4 space-y-4">
        <figure class="rounded-2xl border border-slate-200 p-5">
          <blockquote class="text-slate-700">“Très sympa, ponctuel et efficace ! Je pensais que le chantier serait bien plus complexe. Je recommande vivement.”</blockquote>
          <figcaption class="mt-3 text-sm text-slate-500">- Aurélie et Yann</figcaption>
        </figure>
        <figure class="rounded-2xl border border-slate-200 p-5">
          <blockquote class="text-slate-700">“Réactivité, disponibilité et service après-vente impeccables sur la pose de moustiquaires arrivées en fin de garantie.
Contrôle des moustiquaires et travail très soigné pour réajuster ce qui devait l'être.
Le professionnalisme et la proximité des Artisans du Store sont des atouts majeurs très appréciables !
Un grand merci à toute l'équipe.”</blockquote>
          <figcaption class="mt-3 text-sm text-slate-500">- Françoise B</figcaption>
        </figure>
      </div>
      <%= link_to "https://www.google.com/maps/search/?api=1&query=Les%20Artisans%20du%20Store%2C%2035%20Rue%20des%20Martinets%2069210%20L%27Arbresle", target: "_blank" do %>
        <div class="mt-5 inline-flex px-4 py-2 rounded-xl border border-slate-300 text-sm font-medium">Voir plus d’avis</div>
      <% end %>

    </div>
  </section>

  <!-- Variant B: Logo wall grid with tooltips -->

  <section id="grid" class="variant">
    <div class="mt-20 mb-12 rounded-3xl border border-slate-200 p-8">
      <div class="flex flex-col items-center text-center">
        <p class="text-2xl md:text-3xl font-semibold tracking-tight text-slate-800">Nos partenaires</p>
        <p class="mt-3 max-w-2xl text-slate-600">Un écosystème de marques techniques et durables. Passez au showroom pour manipuler moteurs, toiles et finitions.</p>
      </div>
      <div class="mt-8 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-6 items-center">
        <figure class="flex items-center justify-center p-4 rounded-xl border border-slate-200 bg-white" title="Somfy">
          <%= inline_svg_tag("logos/somfy.svg", class: "h-24 w-24 text-gray-800 fill-gray-800 hover:fill-orange-400 hover:text-orange-400") %>
        </figure>
        <figure class="flex items-center justify-center p-4 rounded-xl border border-slate-200 bg-white" title="Luxaflex">
          <%= inline_svg_tag("logos/logo-luxaflex.svg", class: "h-24 w-24 text-gray-800 fill-gray-800 hover:fill-orange-400 hover:text-orange-400") %>
        </figure>
        <figure class="flex items-center justify-center p-4 rounded-xl border border-slate-200 bg-white" title="Coublanc">
          <%= inline_svg_tag("logos/coublanc_2.svg", class: "h-24 w-24 text-gray-800 fill-gray-800 hover:fill-orange-400 hover:text-orange-400") %>
        </figure>
        <figure class="flex items-center justify-center p-4 rounded-xl border border-slate-200 bg-white" title="Matest">
          <%= inline_svg_tag("logos/logo-Matest.svg", class: "h-24 w-24 text-gray-800 fill-gray-800 hover:fill-orange-400 hover:text-orange-400") %>
        </figure>
        <figure class="flex items-center justify-center p-4 rounded-xl border border-slate-200 bg-white" title="France Fermeture">
          <%= inline_svg_tag("logos/logo-France-Fermeture.svg", class: "h-24 w-24 text-gray-800 fill-gray-800 hover:fill-orange-400 hover:text-orange-400") %>
        </figure>
        <figure class="flex items-center justify-center p-4 rounded-xl border border-slate-200 bg-white" title="Reflexsol">
          <%= inline_svg_tag("logos/logo-REFLEXSOL.svg", class: "h-24 w-24 text-gray-800 fill-gray-800 hover:fill-orange-400 hover:text-orange-400") %>
        </figure>
        <figure class="flex items-center justify-center p-4 rounded-xl border border-slate-200 bg-white" title="Dickson">
          <%= inline_svg_tag("logos/logo-dickson.svg", class: "h-24 w-24 text-gray-800 fill-gray-800 hover:fill-orange-400 hover:text-orange-400") %>
        </figure>
        <figure class="flex items-center justify-center p-4 rounded-xl border border-slate-200 bg-white" title="Dickson">
          <%= inline_svg_tag("logos/Logo-Sommer.svg", class: "h-24 w-24 text-gray-800 fill-gray-800 hover:fill-orange-400 hover:text-orange-400") %>
        </figure>
        <figure class="flex items-center justify-center p-4 rounded-xl border border-slate-200 bg-white" title="Dickson">
          <%= inline_svg_tag("logos/Logo Serge Ferrari.svg", class: "h-24 w-24 text-gray-800 fill-gray-800 hover:fill-orange-400 hover:text-orange-400") %>
        </figure>
        <figure class="flex items-center justify-center p-4 rounded-xl border border-slate-200 bg-white" title="Dickson">
          <%= inline_svg_tag("logos/Logo Sattler Black.svg", class: "h-24 w-24 text-gray-800 fill-gray-800 hover:fill-orange-400 hover:text-orange-400") %>
        </figure>
      </div>
    </div>
  </section>


</section>