<% title "Catégories" %>
<% description "Catégories de produit" %>
<% keywords "Stores, volets roulants, stores intérieurs" %>

<%= render EventFlashComponent.new(@event) %>
<%= render BreadcrumbComponent.new(breadcrumbs) %>



 <section aria-labelledby="collections-heading" class="bg-white min-h-screen">
  <div class="mx-auto max-w-7xl px-10 sm:px-10 lg:px-10">
    <div class="mx-auto max-w-2xl py-6 sm:py-6 lg:max-w-none lg:py-6">
      <div class="mt-6 space-y-10 gap-y-10 lg:grid lg:grid-cols-4 lg:gap-x-10 lg:space-y-0">

        <% @categories.each do |category| %>
          <div class="group relative">
            <div class="relative h-32 w-full overflow-hidden rounded-lg bg-white sm:aspect-h-1 sm:aspect-w-2 lg:aspect-h-1 lg:aspect-w-1 group-hover:opacity-75 sm:h-40">
              <% if category.products.any? && category.products.first.images.attached? %>
                <%= cl_image_tag(category.products.first.images.first.key, crop: :scale, class: "h-full w-full object-cover object-center") %>
              <% else %>
                <%= image_tag('placeholder.jpg', class: "w-full object-cover object-center") %>
              <% end %>
            </div>
            <p class="text-base font-semibold text-gray-900 mt-3"><%= category.name %></p>
            <h3 class="text-sm text-gray-500">
              <%= link_to category_path(category) do %>
                <span class="absolute inset-0"></span>
                <%= category.description %>
              <% end %>
            </h3>
          </div>
        <% end %>

      </div>
    </div>
  </div>
</section>
